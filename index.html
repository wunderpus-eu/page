<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Spell Card Generator</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css"
        />
        <script
            type="module"
            src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/shoelace.js"
        ></script>
        <link rel="stylesheet" href="ui.css" />
        <link rel="stylesheet" id="main-css" href="content.css" />
        <script type="importmap">
            {
                "imports": {
                    "colord": "https://cdn.jsdelivr.net/npm/colord/+esm"
                }
            }
        </script>
    </head>
    <body>
        <header>
            <div id="header-content">
                <div class="controls">
                    <div id="add-cards-row">
                        <div
                            id="spell-search-wrapper"
                            class="spell-search-wrapper"
                        >
                            <sl-dropdown
                                id="spell-combobox"
                                stay-open-on-select
                                hoist
                            >
                                <sl-input
                                    slot="trigger"
                                    id="spell-search-input"
                                    placeholder="Select a spell..."
                                    clearable
                                ></sl-input>
                                <div
                                    id="spell-list-popover"
                                    class="spell-list-popover"
                                >
                                    <div class="spell-list-header">
                                        <span
                                            id="spell-list-count"
                                            class="spell-list-count"
                                        ></span>
                                        <sl-button
                                            id="spell-list-add-all"
                                            size="small"
                                            variant="default"
                                            >Add all</sl-button
                                        >
                                    </div>
                                    <div
                                        id="spell-list-chips"
                                        class="spell-list-chips"
                                    ></div>
                                    <div
                                        id="spell-list"
                                        class="spell-list"
                                    ></div>
                                </div>
                            </sl-dropdown>
                            <sl-dropdown id="filter-dropdown" hoist>
                                <sl-icon-button
                                    slot="trigger"
                                    name="funnel"
                                    label="Filters"
                                ></sl-icon-button>
                                <div
                                    id="filter-menu-content"
                                    class="filter-menu-content"
                                >
                                    <div class="filter-menu-row">
                                        <span>Rules</span>
                                        <sl-switch id="filter-ruleset" checked
                                            >2024</sl-switch
                                        >
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Source</span
                                        >
                                        <div
                                            id="filter-source-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Class</span
                                        >
                                        <div
                                            id="filter-class-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Level</span
                                        >
                                        <div
                                            id="filter-level-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >School</span
                                        >
                                        <div
                                            id="filter-school-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <sl-button
                                        id="filter-clear-btn"
                                        variant="default"
                                        size="small"
                                        >Clear filters</sl-button
                                    >
                                </div>
                            </sl-dropdown>
                        </div>

                        <sl-button id="add-empty-btn" variant="default"
                            >Empty card</sl-button
                        >
                        <sl-button id="add-glossary-btn" variant="default"
                            >Glossary</sl-button
                        >
                    </div>

                    <div id="display-row">
                        <sl-switch id="color-toggle">Grayscale</sl-switch>
                        <sl-select id="page-size-select" value="letter">
                            <sl-option value="letter">Letter</sl-option>
                            <sl-option value="a4">A4</sl-option>
                        </sl-select>
                        <sl-select id="sort-select" value="level">
                            <sl-option value="alphabetical">Aâ€“Z</sl-option>
                            <sl-option value="level">By level</sl-option>
                            <sl-option value="school">By school</sl-option>
                        </sl-select>
                        <sl-switch id="background-toggle">Card back</sl-switch>
                        <sl-switch id="inline-icons-toggle" checked
                            >Inline icons</sl-switch
                        >
                        <sl-switch id="side-by-side-toggle"
                            >Side by side</sl-switch
                        >
                        <sl-button id="clear-all-btn" variant="default"
                            >Clear all</sl-button
                        >
                        <sl-button id="download-custom-btn" variant="default"
                            >Download custom</sl-button
                        >
                        <input
                            type="file"
                            id="upload-spells-input"
                            accept=".json,application/json"
                            hidden
                        />
                        <sl-button id="upload-spells-btn" variant="default"
                            >Upload spells</sl-button
                        >
                        <sl-button id="print-btn" variant="primary"
                            >Print / Save as PDF</sl-button
                        >
                    </div>
                </div>
            </div>
        </header>

        <div id="main-container">
            <div id="printable-area-wrapper">
                <main id="printable-area"></main>
            </div>
        </div>

        <div id="edit-card-overlay" class="overlay hidden" aria-hidden="true">
            <div class="edit-overlay-panel">
                <div class="edit-overlay-preview">
                    <div id="edit-card-preview"></div>
                </div>
                <div class="edit-overlay-form-wrapper">
                    <div id="edit-card-form" class="edit-overlay-form"></div>
                    <div class="edit-overlay-actions">
                        <sl-button id="edit-card-cancel" variant="default"
                            >Cancel</sl-button
                        >
                        <sl-button id="edit-card-save" variant="primary"
                            >Save</sl-button
                        >
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="spell-card.js"></script>
        <script type="module" src="ui.js"></script>
    </body>
</html>
