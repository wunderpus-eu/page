<!DOCTYPE html>
<html lang="en" class="spell-cards-page">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Spell cards – Wunderpus</title>
        <meta
            name="description"
            content="Generate and print DnD 5e spell cards. Customize and export as PDF."
        />
        <link rel="icon" href="assets/logo_color.svg" type="image/svg+xml" />
        <link
            rel="alternate icon"
            href="assets/favicon.png"
            type="image/png"
            sizes="48x48"
        />
        <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" />
        <link rel="stylesheet" href="css/style.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            crossorigin="anonymous"
        />
        <script
            src="https://kit.webawesome.com/09159e6f02cb41ba.js"
            crossorigin="anonymous"
        ></script>
        <link rel="stylesheet" href="css/card-editor.css" />
        <link rel="stylesheet" id="main-css" href="css/card.css" />
        <link rel="stylesheet" href="css/card-print.css" media="print" />
        <script type="importmap">
            {
                "imports": {
                    "colord": "https://cdn.jsdelivr.net/npm/colord/+esm"
                }
            }
        </script>
    </head>
    <body class="spell-cards-page">
        <div class="spell-cards-viewport">
        <header class="header header--spell-cards">
            <div class="container header__top">
                <a href="index.html">
                    <img
                        src="assets/wordmark_color.svg"
                        alt="Wunderpus Wordmark"
                        class="wordmark"
                    />
                </a>
                <nav class="header-nav" aria-label="Main">
                    <wa-button
                        id="header-nav-toggle"
                        class="header-nav-toggle on-hero"
                        appearance="plain"
                        variant="neutral"
                        size="small"
                        pill
                        aria-expanded="false"
                        aria-label="Open menu"
                    >
                        <wa-icon
                            class="header-nav-toggle-icon"
                            name="bars"
                            aria-hidden="true"
                        ></wa-icon>
                    </wa-button>
                    <div id="header-nav-menu" class="header-nav-menu header-nav-menu--inline">
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="character-sheet.html">Character sheet</wa-button>
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="spell-cards.html">Spell cards</wa-button>
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="https://ko-fi.com/wunderpus" target="_blank" rel="noopener noreferrer">Support me</wa-button>
                    </div>
                    <wa-popover for="header-nav-toggle" placement="bottom-end" without-arrow class="header-nav-popover">
                        <div class="header-nav-menu header-nav-menu--popover">
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="character-sheet.html">Character sheet</wa-button>
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="spell-cards.html">Spell cards</wa-button>
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="https://ko-fi.com/wunderpus" target="_blank" rel="noopener noreferrer">Support me</wa-button>
                        </div>
                    </wa-popover>
                </nav>
            </div>
            <div id="header-content" class="header__controls">
                <div class="container">
                <div class="controls">
                    <!-- Row 1: spell search (grows) + filter (fixed) -->
                    <div class="controls-row controls-row--search">
                        <div
                            id="spell-search-wrapper"
                            class="spell-search-wrapper"
                        >
                            <wa-dropdown
                                id="spell-combobox"
                                stay-open-on-select
                                hoist
                                class="spell-combobox-dropdown"
                            >
                                <wa-input
                                    slot="trigger"
                                    id="spell-search-input"
                                    class="on-hero"
                                    placeholder="Search spells to add..."
                                    appearance="filled"
                                    autocomplete="off"
                                    with-clear
                                    pill
                                ></wa-input>
                                <div
                                    id="spell-list-popover"
                                    class="spell-list-popover"
                                >
                                    <div
                                        id="spell-list-chips"
                                        class="spell-list-chips"
                                    ></div>
                                    <div class="spell-list-header">
                                        <span
                                            id="spell-list-count"
                                            class="spell-list-count"
                                        ></span>
                                        <wa-button
                                            id="spell-list-add-all"
                                            size="small"
                                            variant="default"
                                            class="spell-list-inline-btn"
                                            ><wa-icon name="check-double" aria-hidden="true"></wa-icon> Add all</wa-button
                                        >
                                    </div>
                                    <div
                                        id="srd-banner"
                                        class="srd-banner hidden"
                                        aria-hidden="true"
                                    >
                                        <span id="srd-banner-text"></span>
                                        <wa-button
                                            id="srd-banner-info"
                                            variant="default"
                                            size="small"
                                            class="spell-list-inline-btn"
                                            title="Non-SRD info"
                                        >
                                            <wa-icon name="circle-info" aria-hidden="true"></wa-icon> Details
                                        </wa-button>
                                    </div>
                                    <wa-divider style="--spacing: 0rem;"></wa-divider>
                                    <div
                                        id="spell-list"
                                        class="spell-list"
                                    ></div>
                                    <wa-divider style="--spacing: 0rem;"></wa-divider>
                                    <div class="spell-list-footer" aria-hidden="true">
                                        <span class="spell-list-footer-hint">
                                            <kbd><wa-icon name="arrow-up" aria-hidden="true"></wa-icon></kbd> <kbd><wa-icon name="arrow-down" aria-hidden="true"></wa-icon></kbd> Navigate
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Enter</kbd> Add
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Shift+Enter</kbd> Add all
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Ctrl+Enter</kbd> Remove one
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Esc</kbd> Close
                                        </span>
                                    </div>
                                </div>
                            </wa-dropdown>
                            <wa-dropdown id="filter-dropdown" hoist class="filter-dropdown">
                                <wa-button
                                    slot="trigger"
                                    class="filter-trigger-btn on-hero"
                                    appearance="plain"
                                    variant="neutral"
                                    size="small"
                                    pill
                                    title="Filters"
                                    aria-label="Filters"
                                >
                                    <wa-icon name="sliders" aria-hidden="true"></wa-icon>
                                </wa-button>
                                <div
                                    id="filter-menu-content"
                                    class="filter-menu-content"
                                >
                                    <div class="filter-chip-group filter-chip-group--source">
                                        <div class="filter-chip-group__header">
                                            <span class="filter-chip-label"
                                                >Source</span
                                            >
                                            <wa-button
                                                id="filter-clear-btn"
                                                class="filter-clear-btn hidden"
                                                appearance="plain"
                                                variant="neutral"
                                                size="small"
                                                pill
                                                title="Clear filters"
                                                aria-label="Clear filters"
                                            >
                                                <wa-icon name="broom" slot="start" aria-hidden="true"></wa-icon>
                                                Clear Filters
                                            </wa-button>
                                        </div>
                                        <div
                                            id="filter-source-chips"
                                            class="filter-chip-list"
                                        ></div>
                                        <div class="filter-menu-row filter-menu-row--toggle">
                                            <wa-switch id="filter-ruleset" checked></wa-switch>
                                            <span class="filter-menu-row__label">Use 2024 rules</span>
                                        </div>
                                        <div class="filter-menu-row filter-menu-row--toggle">
                                            <wa-switch
                                                id="filter-exclude-reprinted"
                                                checked
                                            ></wa-switch>
                                            <span class="filter-menu-row__label">Exclude reprinted</span>
                                        </div>
                                        <input
                                            type="file"
                                            id="upload-spells-input"
                                            class="visually-hidden-file-input"
                                            accept=".json,application/json"
                                            tabindex="-1"
                                            aria-hidden="true"
                                        />
                                        <wa-button
                                            id="upload-spells-btn"
                                            class="filter-menu-upload-btn"
                                            appearance="plain"
                                            variant="neutral"
                                            size="small"
                                            title="Upload spell JSON"
                                            aria-label="Upload spell JSON"
                                        >
                                            <wa-icon name="upload" slot="start" aria-hidden="true"></wa-icon>
                                            Upload spell JSON
                                        </wa-button>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Class</span
                                        >
                                        <div
                                            id="filter-class-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Level</span
                                        >
                                        <div
                                            id="filter-level-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >School</span
                                        >
                                        <div
                                            id="filter-school-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                </div>
                            </wa-dropdown>
                        </div>
                    </div>

                    <!-- Row 2: add/remove cards, left-aligned. Upload is in filter menu. -->
                    <div class="controls-row controls-row--actions">
                        <div class="controls-row__group">
                            <wa-button-group label="Add card">
                                <wa-button
                                    id="add-empty-btn"
                                    class="on-hero"
                                    variant="neutral"
                                    appearance="accent"
                                    size="medium"
                                    pill
title="Add blank card"
                                aria-label="Add blank card"
                                >
                                    <wa-icon name="plus" slot="start" aria-hidden="true"></wa-icon>
                                    Blank
                                </wa-button>
                                <wa-button
                                    id="add-glossary-btn"
                                    class="on-hero"
                                    variant="neutral"
                                    appearance="accent"
                                    size="medium"
                                    pill
                                    title="Add glossary card"
                                    aria-label="Add glossary card"
                                >
                                    Glossary
                                </wa-button>
                            </wa-button-group>
                        </div>
                        <div class="controls-row__group clear-all-btn-wrapper" id="clear-all-btn-wrapper">
                            <wa-button
                                class="clear-all-btn clear-all-btn--with-text on-hero"
                                variant="neutral"
                                appearance="plain"
                                size="medium"
                                pill
                                title="Clear all cards"
                                aria-label="Clear all cards"
                            >
                                <wa-icon name="trash" slot="start" aria-hidden="true"></wa-icon>
                                Clear all
                            </wa-button>
                            <wa-button
                                class="clear-all-btn clear-all-btn--icon-only on-hero"
                                variant="neutral"
                                appearance="plain"
                                size="medium"
                                pill
                                title="Clear all cards"
                                aria-label="Clear all cards"
                            >
                                <wa-icon name="trash" aria-hidden="true"></wa-icon>
                            </wa-button>
                        </div>
                    </div>

                    <!-- Row 5: settings (left), download (right) -->
                    <div class="controls-row controls-row--print">
                        <div class="controls-row__group">
                            <wa-dropdown id="settings-dropdown" hoist class="settings-dropdown">
                                <div slot="trigger" class="settings-trigger-wrapper" id="settings-trigger-wrapper">
                                    <wa-button
                                        class="settings-btn settings-btn--with-text on-hero"
                                        variant="neutral"
                                        appearance="plain"
                                        size="medium"
                                        pill
                                        title="Settings"
                                        aria-label="Settings"
                                    >
                                        <wa-icon name="gear" slot="start" aria-hidden="true"></wa-icon>
                                        Settings
                                    </wa-button>
                                    <wa-button
                                        class="settings-btn settings-btn--icon-only on-hero"
                                        variant="neutral"
                                        appearance="plain"
                                        size="medium"
                                        pill
                                        title="Settings"
                                        aria-label="Settings"
                                    >
                                        <wa-icon name="gear" aria-hidden="true"></wa-icon>
                                    </wa-button>
                                </div>
                                <div id="settings-menu-content" class="settings-menu-content">
                                    <div class="settings-menu__section">
                                        <span class="controls-select-with-icon" title="Page size">
                                            <wa-icon name="file-lines" aria-hidden="true"></wa-icon>
                                            <wa-radio-group id="page-size-select" value="letter" orientation="horizontal" aria-label="Page size">
                                                <wa-radio appearance="button" value="letter">Letter</wa-radio>
                                                <wa-radio appearance="button" value="a4">A4</wa-radio>
                                            </wa-radio-group>
                                        </span>
                                    </div>
                                    <div class="settings-menu__section">
                                        <span class="controls-select-with-icon" title="Sort order">
                                            <wa-icon name="arrows-up-down" aria-hidden="true"></wa-icon>
                                            <wa-radio-group id="sort-select" value="level" orientation="horizontal" aria-label="Sort order">
                                                <wa-radio appearance="button" value="level">Level</wa-radio>
                                                <wa-radio appearance="button" value="alphabetical">A–Z</wa-radio>
                                                <wa-radio appearance="button" value="school">School</wa-radio>
                                            </wa-radio-group>
                                        </span>
                                    </div>
                                    <div class="settings-menu__section">
                                        <wa-switch id="color-toggle" checked>Use spell school colors</wa-switch>
                                        <wa-switch id="inline-icons-toggle" checked>Use inline icons</wa-switch>
                                        <wa-switch id="background-toggle">Show card back</wa-switch>
                                        <wa-switch id="side-by-side-toggle">Force front/back side-by-side</wa-switch>
                                    </div>
                                </div>
                            </wa-dropdown>
                        </div>
                        <div class="controls-row__group">
                        <wa-button-group label="Download options">
                            <wa-button
                                id="print-btn"
                                class="on-hero"
                                variant="neutral"
                                appearance="accent"
                                size="medium"
                                pill
                                title="Print or save as PDF"
                                aria-label="Download PDF"
                            >
                                <wa-icon name="download" slot="start" aria-hidden="true"></wa-icon>
                                Download PDF
                            </wa-button>
                            <wa-dropdown id="download-options-dropdown" placement="bottom-end">
                                <wa-button slot="trigger" class="on-hero" variant="neutral" appearance="accent" size="medium" pill
                                    aria-label="More download options"
                                >
                                    <wa-icon name="chevron-down" aria-hidden="true"></wa-icon>
                                </wa-button>
                                <wa-dropdown-item id="download-custom-option" value="custom-json">
                                    Download custom spell JSON
                                </wa-dropdown-item>
                                <wa-dropdown-item id="download-srd-option" value="srd-json">
                                    Download SRD spell JSON
                                </wa-dropdown-item>
                                <wa-dropdown-item id="show-printing-instructions-option" value="printing-instructions">
                                    Show printing instructions
                                </wa-dropdown-item>
                            </wa-dropdown>
                        </wa-button-group>
                        </div>
                    </div>

                </div>
                </div>
            </div>
        </header>

        <div class="spell-cards-scroll">
        <div class="spell-cards-content">
        <div id="main-container">
            <div id="printable-area-wrapper">
                <main id="printable-area"></main>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <p>
                    © 2025 Wunderpus. The Wunderpus logo and spell cards
                    are copyright Wunderpus.
                </p>
                <p>
                    The spell cards and the spell card generator are licensed under a
                <a
                    href="http://creativecommons.org/licenses/by/4.0/"
                    target="_blank"
                    >Creative Commons Attribution 4.0 International
                    License</a
                >.
                <br />
                    This work is not affiliated with, endorsed, or sponsored by
                    Wizards of the Coast LLC.
                </p>
            </div>
        </footer>
        </div>
        <div class="spell-cards-scroll-spacer" aria-hidden="true"></div>
        </div>
        </div>

        <div id="edit-card-overlay" class="overlay hidden" aria-hidden="true">
            <div class="edit-overlay-panel">
                <div class="edit-overlay-preview">
                    <div id="edit-card-preview"></div>
                </div>
                <div class="edit-overlay-form-wrapper">
                    <div id="edit-card-form" class="edit-overlay-form"></div>
                    <div class="edit-overlay-actions">
                        <wa-button id="edit-card-cancel" variant="default"
                            >Cancel</wa-button
                        >
                        <wa-button id="edit-card-save" variant="primary"
                            >Save</wa-button
                        >
                    </div>
                </div>
            </div>
        </div>

        <wa-dialog
            id="clear-all-confirm-dialog"
            label="Clear all confirmation"
            without-header
            light-dismiss
            class="clear-all-confirm-dialog"
        >
            <p>Added or edited spells will be lost. Download your spell data to re-upload it later.</p>
            <div slot="footer" class="clear-all-confirm-dialog__footer">
                <wa-button appearance="plain" variant="neutral" data-dialog="close" id="clear-all-confirm-cancel">Cancel</wa-button>
                <wa-button variant="brand" id="clear-all-confirm-proceed">Clear all</wa-button>
            </div>
        </wa-dialog>

        <wa-dialog
            id="srd-excluded-dialog"
            label="Non-SRD spells"
            class="srd-excluded-dialog"
            light-dismiss
        >
            <wa-button
                slot="header-actions"
                id="srd-excluded-copy"
                appearance="plain"
                variant="neutral"
                size="small"
                pill
                title="Copy to clipboard"
                aria-label="Copy to clipboard"
            >
                <wa-icon name="copy" aria-hidden="true"></wa-icon>
            </wa-button>
            <p id="srd-excluded-explanation"></p>
            <div id="srd-excluded-list" class="srd-excluded-list"></div>
        </wa-dialog>

        <wa-dialog
            id="printing-instructions-dialog"
            label="Printing instructions"
            light-dismiss
            class="printing-instructions-dialog"
        >
            <div class="printing-instructions-content">
                <p>Print pages at <strong>full size</strong> (do not use “fit to page”). You can change the page size in Settings.</p>
                <p>Turn off “Use spell school colors” in Settings for a more printer-friendly, grayscale layout.</p>
                <p>You can print on card stock, or on regular paper and then use <a href="https://www.amazon.com/Sleeves-Perfect-Double-Sleeving-Trading-Compatible/dp/B0CKV9S9GL" target="_blank" rel="noopener noreferrer">inner card sleeves</a> for standard poker/trading card size (64 × 98 mm).</p>
                <p>If you print with a card back or use “Force front/back side-by-side”, cards with a front and back can be cut out as one piece and folded.</p>
            </div>
        </wa-dialog>

        <div id="toast" class="toast hidden" aria-live="polite"></div>

        <script src="js/nav.js"></script>
        <script type="module" src="js/card-editor.js"></script>
    </body>
</html>
