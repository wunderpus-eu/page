<!DOCTYPE html>
<html lang="en" class="spell-cards-page">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Spell cards – Wunderpus</title>
        <meta
            name="description"
            content="Generate and print DnD 5e spell cards. Customize and export as PDF."
        />
        <link rel="icon" href="assets/logo_color.svg" type="image/svg+xml" />
        <link
            rel="alternate icon"
            href="assets/favicon.png"
            type="image/png"
            sizes="48x48"
        />
        <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" />
        <!-- Import map and polyfill must be before any module scripts -->
        <script async src="https://ga.jspm.io/npm:es-module-shims@1.10.0/dist/es-module-shims.js"></script>
        <script type="importmap">
            {
                "imports": {
                    "colord": "https://ga.jspm.io/npm:colord@2.9.3/index.js"
                }
            }
        </script>
        <link rel="stylesheet" href="css/style.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            crossorigin="anonymous"
        />
        <script
            src="https://kit.webawesome.com/09159e6f02cb41ba.js"
            crossorigin="anonymous"
        ></script>
        <link rel="stylesheet" href="css/card-editor.css" />
        <link rel="stylesheet" id="main-css" href="css/card.css" />
        <link rel="stylesheet" href="css/card-print.css" media="print" />
    </head>
    <body class="spell-cards-page">
        <div class="spell-cards-viewport">
        <header class="header header--spell-cards">
            <div class="container header__top">
                <a href="index.html">
                    <img
                        src="assets/wordmark_color.svg"
                        alt="Wunderpus Wordmark"
                        class="wordmark"
                    />
                </a>
                <nav class="header-nav" aria-label="Main">
                    <wa-button
                        id="header-nav-toggle"
                        class="header-nav-toggle on-hero"
                        appearance="plain"
                        variant="neutral"
                        size="small"
                        pill
                        aria-expanded="false"
                        aria-label="Open menu"
                    >
                        <wa-icon
                            class="header-nav-toggle-icon"
                            name="bars"
                            aria-hidden="true"
                        ></wa-icon>
                    </wa-button>
                    <div id="header-nav-menu" class="header-nav-menu header-nav-menu--inline">
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="character-sheet.html">Character sheet</wa-button>
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="spell-cards.html">Spell cards</wa-button>
                        <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="https://ko-fi.com/wunderpus" target="_blank" rel="noopener noreferrer">Support me</wa-button>
                    </div>
                    <wa-popover for="header-nav-toggle" placement="bottom-end" without-arrow class="header-nav-popover">
                        <div class="header-nav-menu header-nav-menu--popover">
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="character-sheet.html">Character sheet</wa-button>
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="spell-cards.html">Spell cards</wa-button>
                            <wa-button class="on-hero" appearance="plain" variant="neutral" size="small" href="https://ko-fi.com/wunderpus" target="_blank" rel="noopener noreferrer">Support me</wa-button>
                        </div>
                    </wa-popover>
                </nav>
            </div>
            <div id="header-content" class="header__controls">
                <div class="container">
                <div class="controls">
                    <!-- Row 1: spell search (grows) + filter (fixed) -->
                    <div class="controls-row controls-row--search">
                        <div
                            id="spell-search-wrapper"
                            class="spell-search-wrapper"
                        >
                            <wa-dropdown
                                id="spell-combobox"
                                stay-open-on-select
                                hoist
                                class="spell-combobox-dropdown"
                            >
                                <wa-input
                                    slot="trigger"
                                    id="spell-search-input"
                                    class="on-hero"
                                    placeholder="Search spells to add..."
                                    appearance="filled"
                                    autocomplete="off"
                                    with-clear
                                    pill
                                ></wa-input>
                                <div
                                    id="spell-list-popover"
                                    class="spell-list-popover"
                                >
                                    <div
                                        id="spell-list-chips"
                                        class="spell-list-chips"
                                    ></div>
                                    <div class="spell-list-header">
                                        <span
                                            id="spell-list-count"
                                            class="spell-list-count"
                                        ></span>
                                        <wa-button
                                            id="spell-list-add-all"
                                            size="small"
                                            variant="default"
                                            class="spell-list-inline-btn"
                                            ><wa-icon name="check-double" aria-hidden="true"></wa-icon> Add all</wa-button
                                        >
                                    </div>
                                    <div
                                        id="srd-banner"
                                        class="srd-banner hidden"
                                        aria-hidden="true"
                                    >
                                        <span id="srd-banner-text"></span>
                                        <wa-button
                                            id="srd-banner-info"
                                            variant="default"
                                            size="small"
                                            class="spell-list-inline-btn"
                                            aria-label="Non-SRD info"
                                        >
                                            <wa-icon name="circle-info" aria-hidden="true"></wa-icon> Details
                                        </wa-button>
                                    </div>
                                    <wa-divider style="--spacing: 0rem;"></wa-divider>
                                    <div
                                        id="spell-list"
                                        class="spell-list"
                                    ></div>
                                    <wa-divider style="--spacing: 0rem;"></wa-divider>
                                    <div class="spell-list-footer" aria-hidden="true">
                                        <span class="spell-list-footer-hint">
                                            <kbd><wa-icon name="arrow-up" aria-hidden="true"></wa-icon></kbd> <kbd><wa-icon name="arrow-down" aria-hidden="true"></wa-icon></kbd> Navigate
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Enter</kbd> Add
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Shift+Enter</kbd> Add all
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Ctrl+Enter</kbd> Remove one
                                        </span>
                                        <span class="spell-list-footer-hint">
                                            <kbd>Esc</kbd> Close
                                        </span>
                                    </div>
                                </div>
                            </wa-dropdown>
                            <wa-dropdown id="filter-dropdown" hoist class="filter-dropdown">
                                <span slot="trigger" class="filter-trigger-wrap">
                                    <wa-tooltip for="filter-trigger-btn">Filters</wa-tooltip>
                                    <wa-button
                                        id="filter-trigger-btn"
                                        class="filter-trigger-btn on-hero"
                                        appearance="plain"
                                        variant="neutral"
                                        size="small"
                                        pill
                                        aria-label="Filters"
                                    >
                                        <wa-icon name="sliders" aria-hidden="true"></wa-icon>
                                    </wa-button>
                                </span>
                                <div
                                    id="filter-menu-content"
                                    class="filter-menu-content"
                                >
                                    <div class="filter-chip-group filter-chip-group--source">
                                        <div class="filter-chip-group__header">
                                            <span class="filter-chip-label"
                                                >Source</span
                                            >
                                            <wa-button
                                                id="filter-clear-btn"
                                                class="filter-clear-btn hidden"
                                                appearance="plain"
                                                variant="neutral"
                                                size="small"
                                                pill
                                                aria-label="Clear filters"
                                            >
                                                <wa-icon name="broom" slot="start" aria-hidden="true"></wa-icon>
                                                Clear Filters
                                            </wa-button>
                                        </div>
                                        <div
                                            id="filter-source-chips"
                                            class="filter-chip-list"
                                        ></div>
                                        <div class="filter-menu-row filter-menu-row--toggle">
                                            <wa-switch id="filter-ruleset" checked></wa-switch>
                                            <span class="filter-menu-row__label">Use 2024 rules</span>
                                        </div>
                                        <div class="filter-menu-row filter-menu-row--toggle">
                                            <wa-switch
                                                id="filter-exclude-reprinted"
                                                checked
                                            ></wa-switch>
                                            <span class="filter-menu-row__label">Exclude reprinted</span>
                                        </div>
                                        <input
                                            type="file"
                                            id="upload-spells-input"
                                            class="visually-hidden-file-input"
                                            accept=".json,application/json"
                                            tabindex="-1"
                                            aria-hidden="true"
                                        />
                                        <wa-button
                                            id="upload-spells-btn"
                                            class="filter-menu-upload-btn"
                                            appearance="plain"
                                            variant="neutral"
                                            size="small"
                                            aria-label="Upload spell JSON"
                                        >
                                            <wa-icon name="upload" slot="start" aria-hidden="true"></wa-icon>
                                            Upload spell JSON
                                        </wa-button>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Class</span
                                        >
                                        <div
                                            id="filter-class-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >Level</span
                                        >
                                        <div
                                            id="filter-level-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                    <div class="filter-chip-group">
                                        <span class="filter-chip-label"
                                            >School</span
                                        >
                                        <div
                                            id="filter-school-chips"
                                            class="filter-chip-list"
                                        ></div>
                                    </div>
                                </div>
                            </wa-dropdown>
                        </div>
                    </div>

                    <!-- Row 2: add/remove cards, left-aligned. Upload is in filter menu. -->
                    <div class="controls-row controls-row--actions">
                        <div class="controls-row__group">
                            <wa-button-group label="Add card">
                                <wa-button
                                    id="add-empty-btn"
                                    class="on-hero"
                                    variant="neutral"
                                    appearance="accent"
                                    size="medium"
                                    pill
                                    aria-label="Add blank card"
                                >
                                    <wa-icon name="plus" slot="start" aria-hidden="true"></wa-icon>
                                    Blank
                                </wa-button>
                                <wa-button
                                    id="add-glossary-btn"
                                    class="on-hero"
                                    variant="neutral"
                                    appearance="accent"
                                    size="medium"
                                    pill
                                    aria-label="Add glossary card"
                                >
                                    Glossary
                                </wa-button>
                            </wa-button-group>
                        </div>
                        <div class="controls-row__group clear-all-btn-wrapper" id="clear-all-btn-wrapper">
                            <wa-button
                                class="clear-all-btn clear-all-btn--with-text on-hero"
                                variant="neutral"
                                appearance="plain"
                                size="medium"
                                pill
                                aria-label="Clear all cards"
                            >
                                <wa-icon name="trash" slot="start" aria-hidden="true"></wa-icon>
                                Clear all
                            </wa-button>
                            <wa-tooltip for="clear-all-btn-icon">Clear all cards</wa-tooltip>
                            <wa-button
                                id="clear-all-btn-icon"
                                class="clear-all-btn clear-all-btn--icon-only on-hero"
                                variant="neutral"
                                appearance="plain"
                                size="medium"
                                pill
                                aria-label="Clear all cards"
                            >
                                <wa-icon name="trash" aria-hidden="true"></wa-icon>
                            </wa-button>
                        </div>
                    </div>

                    <!-- Row 5: settings (left), download (right) -->
                    <div class="controls-row controls-row--print">
                        <div class="controls-row__group">
                            <wa-dropdown id="settings-dropdown" hoist class="settings-dropdown">
                                <div slot="trigger" class="settings-trigger-wrapper" id="settings-trigger-wrapper">
                                    <wa-button
                                        class="settings-btn settings-btn--with-text on-hero"
                                        variant="neutral"
                                        appearance="plain"
                                        size="medium"
                                        pill
                                        aria-label="Settings"
                                    >
                                        <wa-icon name="gear" slot="start" aria-hidden="true"></wa-icon>
                                        Settings
                                    </wa-button>
                                    <wa-tooltip for="settings-btn-icon">Settings</wa-tooltip>
                                    <wa-button
                                        id="settings-btn-icon"
                                        class="settings-btn settings-btn--icon-only on-hero"
                                        variant="neutral"
                                        appearance="plain"
                                        size="medium"
                                        pill
                                        aria-label="Settings"
                                    >
                                        <wa-icon name="gear" aria-hidden="true"></wa-icon>
                                    </wa-button>
                                </div>
                                <div id="settings-menu-content" class="settings-menu-content">
                                    <div class="settings-menu__section">
                                        <span class="controls-select-with-icon">
                                            <wa-icon name="file-lines" aria-hidden="true"></wa-icon>
                                            <wa-radio-group id="page-size-select" value="letter" orientation="horizontal" aria-label="Page size">
                                                <wa-radio appearance="button" value="letter">Letter</wa-radio>
                                                <wa-radio appearance="button" value="a4">A4</wa-radio>
                                            </wa-radio-group>
                                        </span>
                                    </div>
                                    <div class="settings-menu__section">
                                        <span class="controls-select-with-icon">
                                            <wa-icon name="sort" aria-hidden="true"></wa-icon>
                                            <wa-radio-group id="sort-select" value="level" orientation="horizontal" aria-label="Sort order">
                                                <wa-radio appearance="button" value="level">Level</wa-radio>
                                                <wa-radio appearance="button" value="alphabetical">A–Z</wa-radio>
                                                <wa-radio appearance="button" value="school">School</wa-radio>
                                            </wa-radio-group>
                                        </span>
                                    </div>
                                    <div class="settings-menu__section">
                                        <wa-switch id="color-toggle" checked>Use spell school colors</wa-switch>
                                        <wa-switch id="inline-icons-toggle" checked>Use inline icons</wa-switch>
                                        <wa-switch id="background-toggle">Show card back</wa-switch>
                                        <wa-switch id="side-by-side-toggle">Force front/back side-by-side</wa-switch>
                                    </div>
                                </div>
                            </wa-dropdown>
                        </div>
                        <div class="controls-row__group">
                        <wa-button-group label="Download options">
                            <wa-button
                                id="print-btn"
                                class="on-hero"
                                variant="neutral"
                                appearance="accent"
                                size="medium"
                                pill
                                aria-label="Print or save as PDF"
                            >
                                <wa-icon name="download" slot="start" aria-hidden="true"></wa-icon>
                                Download PDF
                            </wa-button>
                            <wa-dropdown id="download-options-dropdown" placement="bottom-end">
                                <span slot="trigger" class="download-options-trigger-wrap">
                                    <wa-tooltip for="download-options-trigger">More download options</wa-tooltip>
                                    <wa-button id="download-options-trigger" class="on-hero" variant="neutral" appearance="accent" size="medium" pill
                                        aria-label="More download options"
                                    >
                                        <wa-icon name="chevron-down" aria-hidden="true"></wa-icon>
                                    </wa-button>
                                </span>
                                <wa-dropdown-item id="download-custom-option" value="custom-json">
                                    Download custom spell JSON
                                </wa-dropdown-item>
                                <wa-dropdown-item id="download-srd-option" value="srd-json">
                                    Download SRD spell JSON
                                </wa-dropdown-item>
                                <wa-dropdown-item id="show-printing-instructions-option" value="printing-instructions">
                                    Show printing instructions
                                </wa-dropdown-item>
                            </wa-dropdown>
                        </wa-button-group>
                        </div>
                    </div>

                </div>
                </div>
            </div>
        </header>

        <div class="spell-cards-scroll">
        <div class="spell-cards-content">
        <div id="main-container">
            <div id="printable-area-wrapper">
                <main id="printable-area"></main>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <p>
                    © 2025 Wunderpus. The Wunderpus logo and spell cards
                    are copyright Wunderpus.
                </p>
                <p>
                    The spell cards and the spell card generator are licensed under a
                <a
                    href="http://creativecommons.org/licenses/by/4.0/"
                    target="_blank"
                    >Creative Commons Attribution 4.0 International
                    License</a
                >.
                <br />
                    This work is not affiliated with, endorsed, or sponsored by
                    Wizards of the Coast LLC.
                </p>
            </div>
        </footer>
        </div>
        <div class="spell-cards-scroll-spacer" aria-hidden="true"></div>
        </div>
        </div>

        <wa-dialog
            id="edit-card-dialog"
            label="Edit card"
            without-header
            class="edit-card-dialog"
        >
            <div class="edit-overlay-panel">
                <div class="edit-overlay-preview">
                    <div id="edit-card-preview"></div>
                </div>
                <div class="edit-overlay-form-wrapper">
                    <form id="edit-card-form" class="edit-overlay-form">
                        <!-- Name -->
                        <div class="form-field">
                            <wa-input id="edit-name" name="name" label="Name"></wa-input>
                        </div>

                        <!-- Subtitle -->
                        <div class="form-field">
                            <wa-input id="edit-subtitle" name="subtitle" label="Subtitle"></wa-input>
                        </div>

                        <!-- Level -->
                        <div class="form-field">
                            <wa-select id="edit-level" name="level" label="Level">
                                <wa-option value="0">Cantrip</wa-option>
                                <wa-option value="1">1</wa-option>
                                <wa-option value="2">2</wa-option>
                                <wa-option value="3">3</wa-option>
                                <wa-option value="4">4</wa-option>
                                <wa-option value="5">5</wa-option>
                                <wa-option value="6">6</wa-option>
                                <wa-option value="7">7</wa-option>
                                <wa-option value="8">8</wa-option>
                                <wa-option value="9">9</wa-option>
                            </wa-select>
                        </div>

                        <!-- School -->
                        <div class="form-field">
                            <wa-select id="edit-school" name="school" label="School">
                                <wa-option value="Abjuration">Abjuration</wa-option>
                                <wa-option value="Conjuration">Conjuration</wa-option>
                                <wa-option value="Divination">Divination</wa-option>
                                <wa-option value="Enchantment">Enchantment</wa-option>
                                <wa-option value="Evocation">Evocation</wa-option>
                                <wa-option value="Illusion">Illusion</wa-option>
                                <wa-option value="Necromancy">Necromancy</wa-option>
                                <wa-option value="Transmutation">Transmutation</wa-option>
                            </wa-select>
                        </div>

                        <!-- Source -->
                        <div class="form-field" id="edit-source-wrap">
                            <wa-select id="edit-source" name="source" label="Source"></wa-select>
                        </div>
                        <div class="form-field form-field-source-other" id="edit-source-other-wrap" style="display: none;">
                            <wa-input id="edit-source_other" name="source_other" label="Source (specify when Other is selected)"></wa-input>
                        </div>

                        <wa-divider></wa-divider>

                        <!-- Casting Time -->
                        <div class="form-field form-field-casting-time">
                            <span class="form-field-label" id="edit-casting-time-label">Casting time</span>
                            <div class="casting-time-row">
                                <wa-number-input id="edit-time_number" name="time_number" aria-label="Casting time amount" min="1" value="1"></wa-number-input>
                                <wa-select id="edit-time_unit" name="time_unit" aria-labelledby="edit-casting-time-label">
                                    <wa-option value="action">Action</wa-option>
                                    <wa-option value="bonus">Bonus action</wa-option>
                                    <wa-option value="reaction">Reaction</wa-option>
                                    <wa-option value="minute">Minute(s)</wa-option>
                                    <wa-option value="hour">Hour(s)</wa-option>
                                </wa-select>
                            </div>
                        </div>

                        <!-- Time Condition -->
                        <div class="form-field form-field-time-condition" id="edit-time-condition-wrap" style="display: none;">
                            <wa-textarea id="edit-time_condition" name="time_condition" label="Condition" rows="2"></wa-textarea>
                            <div class="rich-text-hint-row">
                                Supports rich text
                                <wa-tooltip for="rich-text-info-btn-time-condition">Info</wa-tooltip>
                                <wa-button id="rich-text-info-btn-time-condition" appearance="plain" variant="neutral" size="small" pill aria-label="Info">
                                    <wa-icon name="circle-info" aria-hidden="true"></wa-icon>
                                </wa-button>
                            </div>
                        </div>

                        <!-- Concentration -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-isConcentration" name="isConcentration"></wa-switch>
                            <label for="edit-isConcentration">Requires concentration</label>
                        </div>

                        <!-- Ritual -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-isRitual" name="isRitual"></wa-switch>
                            <label for="edit-isRitual">Ritual</label>
                        </div>

                        <wa-divider></wa-divider>

                        <!-- Range -->
                        <div class="form-field form-field-range">
                            <span class="form-field-label" id="edit-range-label">Range</span>
                            <div class="range-row">
                                <wa-number-input id="edit-range_distance" name="range_distance" aria-labelledby="edit-range-label" min="1" value="30"></wa-number-input>
                                <wa-select id="edit-range_type" name="range_type" aria-labelledby="edit-range-label">
                                    <wa-option value="self">Self</wa-option>
                                    <wa-option value="touch">Touch</wa-option>
                                    <wa-option value="feet">Feet</wa-option>
                                    <wa-option value="miles">Miles</wa-option>
                                    <wa-option value="special">Special</wa-option>
                                    <wa-option value="unlimited">Unlimited</wa-option>
                                </wa-select>
                            </div>
                        </div>

                        <!-- Area -->
                        <div class="form-field" id="edit-range_area-wrap">
                            <wa-select id="edit-range_area" name="range_area" label="Area">
                                <wa-option value="">None</wa-option>
                                <wa-option value="line">Line</wa-option>
                                <wa-option value="cone">Cone</wa-option>
                                <wa-option value="cube">Cube</wa-option>
                                <wa-option value="cylinder">Cylinder</wa-option>
                                <wa-option value="sphere">Sphere</wa-option>
                                <wa-option value="hemisphere">Hemisphere</wa-option>
                                <wa-option value="emanation">Emanation</wa-option>
                                <wa-option value="circle">Circle</wa-option>
                                <wa-option value="square">Square</wa-option>
                                <wa-option value="wall">Wall</wa-option>
                            </wa-select>
                        </div>

                        <!-- Area Dimensions -->
                        <div class="form-field form-field-area-dims" id="edit-area-dims-wrap" style="display: none;">
                            <span class="form-field-label" id="edit-area-primary-label">Size</span>
                            <div class="dimension-row dimension-row--with-number">
                                <wa-number-input id="edit-area_distance" name="area_distance" aria-labelledby="edit-area-primary-label" min="1" value="30"></wa-number-input>
                                <wa-select id="edit-area_unit" name="area_unit" aria-labelledby="edit-area-primary-label">
                                    <wa-option value="feet">Feet</wa-option>
                                    <wa-option value="miles">Miles</wa-option>
                                </wa-select>
                            </div>
                            <span class="form-field-label" id="edit-area-height-label" style="display: none;">Height</span>
                            <div class="dimension-row dimension-row--with-number" id="edit-area-height-row" style="display: none;">
                                <wa-number-input id="edit-area_height" name="area_height" aria-labelledby="edit-area-height-label" min="1" value="30"></wa-number-input>
                                <wa-select id="edit-area_height_unit" name="area_height_unit" aria-labelledby="edit-area-height-label">
                                    <wa-option value="feet">Feet</wa-option>
                                    <wa-option value="miles">Miles</wa-option>
                                </wa-select>
                            </div>
                        </div>

                        <!-- Targets -->
                        <div class="form-field form-field-targets" id="edit-range-targets-wrap">
                            <wa-number-input id="edit-range_targets" name="range_targets" label="Number of targets" hint="Use 0 for an undefined or area-based number of targets" min="0" step="1" value="0"></wa-number-input>
                        </div>

                        <!-- Targets Scale -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-range_targets_scale" name="range_targets_scale"></wa-switch>
                            <label for="edit-range_targets_scale">More targets at higher levels</label>
                        </div>

                        <!-- Requires Sight -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-range_requires_sight" name="range_requires_sight"></wa-switch>
                            <label for="edit-range_requires_sight">Requires sight</label>
                        </div>

                        <wa-divider></wa-divider>

                        <!-- Duration -->
                        <div class="form-field form-field-duration">
                            <span class="form-field-label" id="edit-duration-label">Duration</span>
                            <div class="range-row">
                                <wa-number-input id="edit-duration_amount" name="duration_amount" aria-labelledby="edit-duration-label" min="1" value="1"></wa-number-input>
                                <wa-select id="edit-duration_type" name="duration_type" aria-labelledby="edit-duration-label">
                                    <wa-option value="instant">Instant</wa-option>
                                    <wa-option value="round">Round(s)</wa-option>
                                    <wa-option value="minute">Minute(s)</wa-option>
                                    <wa-option value="hour">Hour(s)</wa-option>
                                    <wa-option value="day">Day(s)</wa-option>
                                    <wa-option value="special">Special</wa-option>
                                    <wa-option value="permanent">Permanent</wa-option>
                                </wa-select>
                            </div>
                        </div>

                        <!-- Duration Ends -->
                        <div class="form-field filter-chip-group form-field-duration-ends" id="edit-duration-ends-wrap" style="display: none;" role="group">
                            <span class="filter-chip-label" id="edit-duration-ends-label">Ending conditions</span>
                            <div class="filter-chip-list duration-ends-chips">
                                <wa-button class="filter-chip duration-end-chip" data-value="dispel" size="medium" appearance="filled" variant="neutral" aria-pressed="false">Dispel</wa-button>
                                <wa-button class="filter-chip duration-end-chip" data-value="trigger" size="medium" appearance="filled" variant="neutral" aria-pressed="false">Trigger</wa-button>
                            </div>
                        </div>

                        <wa-divider></wa-divider>

                        <!-- Components Description -->
                        <div class="form-field form-field-components-description" id="edit-components-description-wrap">
                            <wa-textarea id="edit-components_description" name="components_description" label="Component description" rows="2"></wa-textarea>
                            <div class="rich-text-hint-row">
                                Supports rich text
                                <wa-tooltip for="rich-text-info-btn-components">Info</wa-tooltip>
                                <wa-button id="rich-text-info-btn-components" appearance="plain" variant="neutral" size="small" pill aria-label="Info">
                                    <wa-icon name="circle-info" aria-hidden="true"></wa-icon>
                                </wa-button>
                            </div>
                        </div>

                        <!-- Verbal Component -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-components_v" name="components_v"></wa-switch>
                            <label for="edit-components_v">Verbal component</label>
                        </div>

                        <!-- Somatic Component -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-components_s" name="components_s"></wa-switch>
                            <label for="edit-components_s">Somatic component</label>
                        </div>

                        <!-- Material Component -->
                        <div class="form-field form-field--switch">
                            <wa-switch id="edit-components_m" name="components_m"></wa-switch>
                            <label for="edit-components_m">Material component</label>
                        </div>

                        <!-- Has Cost -->
                        <div class="form-field form-field--switch form-field-components-material">
                            <wa-switch id="edit-components_has_cost" name="components_has_cost"></wa-switch>
                            <label for="edit-components_has_cost">Specified cost</label>
                        </div>

                        <!-- Is Consumed -->
                        <div class="form-field form-field--switch form-field-components-consumed" id="edit-components-consumed-wrap">
                            <wa-switch id="edit-components_is_consumed" name="components_is_consumed"></wa-switch>
                            <label for="edit-components_is_consumed">Is consumed</label>
                        </div>

                        <wa-divider></wa-divider>

                        <!-- Description -->
                        <div class="form-field">
                            <wa-textarea id="edit-description" name="description" label="Description" rows="6"></wa-textarea>
                            <div class="rich-text-hint-row">
                                Supports rich text
                                <wa-tooltip for="rich-text-info-btn-description">Info</wa-tooltip>
                                <wa-button id="rich-text-info-btn-description" appearance="plain" variant="neutral" size="small" pill aria-label="Info">
                                    <wa-icon name="circle-info" aria-hidden="true"></wa-icon>
                                </wa-button>
                            </div>
                        </div>

                        <!-- Upcast -->
                        <div class="form-field">
                            <wa-textarea id="edit-upcast" name="upcast" label="At higher levels" rows="2"></wa-textarea>
                            <div class="rich-text-hint-row">
                                Supports rich text
                                <wa-tooltip for="rich-text-info-btn-upcast">Info</wa-tooltip>
                                <wa-button id="rich-text-info-btn-upcast" appearance="plain" variant="neutral" size="small" pill aria-label="Info">
                                    <wa-icon name="circle-info" aria-hidden="true"></wa-icon>
                                </wa-button>
                            </div>
                        </div>

                        <!-- Classes -->
                        <div class="form-field form-field-classes" id="edit-classes-wrap" role="group">
                            <label id="edit-classes-label">Classes</label>
                            <div class="edit-classes-tokens"></div>
                        </div>
                    </form>
                </div>
            </div>
            <div slot="footer" class="edit-overlay-actions">
                <wa-button id="edit-card-cancel" appearance="plain" variant="neutral" pill data-dialog="close"
                    >Cancel</wa-button
                >
                <wa-button id="edit-card-save" type="button" variant="brand" pill
                    >Save</wa-button
                >
            </div>
        </wa-dialog>

        <wa-dialog
            id="clear-all-confirm-dialog"
            label="Clear all confirmation"
            without-header
            light-dismiss
            class="clear-all-confirm-dialog"
        >
            <p>Edited spell data will be lost. Consider downloading your custom spell data.</p>
            <div slot="footer" class="clear-all-confirm-dialog__footer">
                <wa-button appearance="plain" variant="neutral" pill data-dialog="close" id="clear-all-confirm-cancel">Cancel</wa-button>
                <wa-button variant="brand" pill id="clear-all-confirm-proceed">Clear all</wa-button>
            </div>
        </wa-dialog>

        <wa-dialog
            id="delete-card-confirm-dialog"
            label="Delete edited card"
            without-header
            light-dismiss
            class="delete-card-confirm-dialog"
        >
            <p>Edited card data will be lost. Consider downloading your custom spell data.</p>
            <div slot="footer" class="clear-all-confirm-dialog__footer">
                <wa-button appearance="plain" variant="neutral" pill data-dialog="close" id="delete-card-confirm-cancel">Cancel</wa-button>
                <wa-button variant="brand" pill id="delete-card-confirm-proceed">Delete</wa-button>
            </div>
        </wa-dialog>

        <wa-dialog
            id="reset-card-confirm-dialog"
            label="Reset to original"
            without-header
            light-dismiss
            class="reset-card-confirm-dialog"
        >
            <p>Edits to this spell will be lost. Consider downloading your custom spell data.</p>
            <div slot="footer" class="clear-all-confirm-dialog__footer">
                <wa-button appearance="plain" variant="neutral" pill data-dialog="close" id="reset-card-confirm-cancel">Cancel</wa-button>
                <wa-button variant="brand" pill id="reset-card-confirm-proceed">Reset</wa-button>
            </div>
        </wa-dialog>

        <wa-dialog
            id="srd-excluded-dialog"
            label="Non-SRD spells"
            class="srd-excluded-dialog"
            light-dismiss
        >
            <wa-button
                slot="header-actions"
                id="srd-excluded-copy"
                appearance="plain"
                variant="neutral"
                size="small"
                pill
                aria-label="Copy to clipboard"
            >
                <wa-icon name="copy" aria-hidden="true"></wa-icon>
            </wa-button>
            <p id="srd-excluded-explanation"></p>
            <div id="srd-excluded-list" class="srd-excluded-list"></div>
        </wa-dialog>

        <wa-dialog
            id="rich-text-info-dialog"
            label="Rich text formatting"
            light-dismiss
            without-footer
            class="rich-text-info-dialog"
        >
            <div class="rich-text-info-content">
                <h4>Markdown</h4>
                <ul>
                    <li><strong>**bold**</strong> — bold text</li>
                    <li><em>*italic*</em> — italic text</li>
                    <li><strong>Itemized lists</strong> — start a line with <code>-</code> or <code>*</code> and a space: <code>- First item</code></li>
                    <li><strong>Ordered lists</strong> — start a line with <code>1.</code> and a space: <code>1. First step</code></li>
                    <li><strong>Tables</strong> — header row with pipes, separator row, then data rows:<br><code>| Col1 | Col2 |</code><br><code>| --- | --- |</code><br><code>| A | B |</code></li>
                </ul>
                <h4>Inline icons</h4>
                <p>Text in `backticks` (case-insensitive) can render as icons:</p>
                <ul>
                    <li><strong>Damage types:</strong> <code>acid damage</code>, <code>cold damage</code>, <code>fire damage</code>, <code>lightning damage</code>, <code>necrotic damage</code>, <code>poison damage</code>, <code>psychic damage</code>, <code>radiant damage</code>, <code>slashing damage</code>, <code>bludgeoning damage</code>, <code>piercing damage</code>, <code>thunder damage</code>, <code>force damage</code></li>
                    <li><strong>Area types:</strong> <code>emanation</code>, <code>line</code>, <code>cone</code>, <code>cube</code>, <code>cylinder</code>, <code>sphere</code>, <code>hemisphere</code></li>
                    <li><strong>Action economy:</strong> <code>action</code>, <code>actions</code>, <code>bonus action</code>, <code>reaction</code>, <code>reactions</code></li>
                    <li><strong>Currency:</strong> <code>gp</code>, <code>sp</code>, <code>cp</code></li>
                </ul>
            </div>
        </wa-dialog>

        <wa-dialog
            id="rich-text-info-short-dialog"
            label="Rich text formatting"
            light-dismiss
            without-footer
            class="rich-text-info-dialog"
        >
            <div class="rich-text-info-content">
                <h4>Markdown</h4>
                <ul>
                    <li><strong>**bold**</strong> — bold text</li>
                    <li><em>*italic*</em> — italic text</li>
                </ul>
                <h4>Inline icons</h4>
                <p>Text in `backticks` (case-insensitive) can render as icons:</p>
                <ul>
                    <li><strong>Damage types:</strong> <code>acid damage</code>, <code>cold damage</code>, <code>fire damage</code>, <code>lightning damage</code>, <code>necrotic damage</code>, <code>poison damage</code>, <code>psychic damage</code>, <code>radiant damage</code>, <code>slashing damage</code>, <code>bludgeoning damage</code>, <code>piercing damage</code>, <code>thunder damage</code>, <code>force damage</code></li>
                    <li><strong>Area types:</strong> <code>emanation</code>, <code>line</code>, <code>cone</code>, <code>cube</code>, <code>cylinder</code>, <code>sphere</code>, <code>hemisphere</code></li>
                    <li><strong>Action economy:</strong> <code>action</code>, <code>actions</code>, <code>bonus action</code>, <code>reaction</code>, <code>reactions</code></li>
                    <li><strong>Currency:</strong> <code>gp</code>, <code>sp</code>, <code>cp</code></li>
                </ul>
            </div>
        </wa-dialog>

        <wa-dialog
            id="printing-instructions-dialog"
            label="Printing instructions"
            light-dismiss
            class="printing-instructions-dialog"
        >
            <div class="printing-instructions-content">
                <p>Print pages at <strong>full size</strong> (do not use “fit to page”). You can change the page size in Settings.</p>
                <p>Turn off “Use spell school colors” in Settings for a more printer-friendly, grayscale layout.</p>
                <p>You can print on card stock, or on regular paper and then use <a href="https://www.amazon.com/Sleeves-Perfect-Double-Sleeving-Trading-Compatible/dp/B0CKV9S9GL" target="_blank" rel="noopener noreferrer">inner card sleeves</a> for standard poker/trading card size (64 × 98 mm).</p>
                <p>If you print with a card back or use “Force front/back side-by-side”, cards with a front and back can be cut out as one piece and folded.</p>
            </div>
        </wa-dialog>

        <div id="toast" class="toast hidden" aria-live="polite"></div>

        <script src="js/nav.js"></script>
        <script type="module" src="js/card-editor.js"></script>
    </body>
</html>
